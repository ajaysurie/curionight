
> curionight@0.1.0 dev
> next dev

   ▲ Next.js 15.4.2
   - Local:        http://localhost:3000
   - Network:      http://192.168.68.66:3000
   - Environments: .env.local, .env

 ✓ Starting...
 ✓ Ready in 1253ms
 ○ Compiling / ...
 ✓ Compiled / in 552ms (729 modules)
 GET / 200 in 770ms
 ✓ Compiled /api/auth/[...nextauth] in 158ms (459 modules)
 ✓ Compiled in 66ms (288 modules)
 GET /favicon.ico 200 in 472ms
[Error: Route "/api/auth/[...nextauth]" used `params.nextauth`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis]
Error: Route "/api/auth/[...nextauth]" used `cookies().getAll()`. `cookies()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createCookiesAccessError (../../../src/server/request/cookies.ts:485:9)
    at syncIODev (../../../src/server/request/cookies.ts:473:2)
    at Promise.getAll (../../../src/server/request/cookies.ts:313:8)
  483 | ) {
  484 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 485 |   return new Error(
      |         ^
  486 |     `${prefix}used ${expression}. ` +
  487 |       `\`cookies()\` should be awaited before using its value. ` +
  488 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
Error: Route "/api/auth/[...nextauth]" used `...headers()` or similar iteration. `headers()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createHeadersAccessError (../../../src/server/request/headers.ts:417:9)
    at syncIODev (../../../src/server/request/headers.ts:405:2)
    at Promise.value (../../../src/server/request/headers.ts:327:8)
    at Object.fromEntries (<anonymous>)
  415 | ) {
  416 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 417 |   return new Error(
      |         ^
  418 |     `${prefix}used ${expression}. ` +
  419 |       `\`headers()\` should be awaited before using its value. ` +
  420 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
 GET /api/auth/session 200 in 977ms
[Error: Route "/api/auth/[...nextauth]" used `params.nextauth`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis]
Error: Route "/api/auth/[...nextauth]" used `cookies().getAll()`. `cookies()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createCookiesAccessError (../../../src/server/request/cookies.ts:485:9)
    at syncIODev (../../../src/server/request/cookies.ts:473:2)
    at Promise.getAll (../../../src/server/request/cookies.ts:313:8)
  483 | ) {
  484 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 485 |   return new Error(
      |         ^
  486 |     `${prefix}used ${expression}. ` +
  487 |       `\`cookies()\` should be awaited before using its value. ` +
  488 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
Error: Route "/api/auth/[...nextauth]" used `...headers()` or similar iteration. `headers()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createHeadersAccessError (../../../src/server/request/headers.ts:417:9)
    at syncIODev (../../../src/server/request/headers.ts:405:2)
    at Promise.value (../../../src/server/request/headers.ts:327:8)
    at Object.fromEntries (<anonymous>)
  415 | ) {
  416 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 417 |   return new Error(
      |         ^
  418 |     `${prefix}used ${expression}. ` +
  419 |       `\`headers()\` should be awaited before using its value. ` +
  420 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
 GET /api/auth/session 200 in 64ms
[Error: Route "/api/auth/[...nextauth]" used `params.nextauth`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis]
Error: Route "/api/auth/[...nextauth]" used `cookies().getAll()`. `cookies()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createCookiesAccessError (../../../src/server/request/cookies.ts:485:9)
    at syncIODev (../../../src/server/request/cookies.ts:473:2)
    at Promise.getAll (../../../src/server/request/cookies.ts:313:8)
  483 | ) {
  484 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 485 |   return new Error(
      |         ^
  486 |     `${prefix}used ${expression}. ` +
  487 |       `\`cookies()\` should be awaited before using its value. ` +
  488 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
Error: Route "/api/auth/[...nextauth]" used `...headers()` or similar iteration. `headers()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createHeadersAccessError (../../../src/server/request/headers.ts:417:9)
    at syncIODev (../../../src/server/request/headers.ts:405:2)
    at Promise.value (../../../src/server/request/headers.ts:327:8)
    at Object.fromEntries (<anonymous>)
  415 | ) {
  416 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 417 |   return new Error(
      |         ^
  418 |     `${prefix}used ${expression}. ` +
  419 |       `\`headers()\` should be awaited before using its value. ` +
  420 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
 GET /api/auth/session 200 in 56ms
[Error: Route "/api/auth/[...nextauth]" used `params.nextauth`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis]
Error: Route "/api/auth/[...nextauth]" used `cookies().getAll()`. `cookies()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createCookiesAccessError (../../../src/server/request/cookies.ts:485:9)
    at syncIODev (../../../src/server/request/cookies.ts:473:2)
    at Promise.getAll (../../../src/server/request/cookies.ts:313:8)
  483 | ) {
  484 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 485 |   return new Error(
      |         ^
  486 |     `${prefix}used ${expression}. ` +
  487 |       `\`cookies()\` should be awaited before using its value. ` +
  488 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
Error: Route "/api/auth/[...nextauth]" used `...headers()` or similar iteration. `headers()` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at createHeadersAccessError (../../../src/server/request/headers.ts:417:9)
    at syncIODev (../../../src/server/request/headers.ts:405:2)
    at Promise.value (../../../src/server/request/headers.ts:327:8)
    at Object.fromEntries (<anonymous>)
  415 | ) {
  416 |   const prefix = route ? `Route "${route}" ` : 'This route '
> 417 |   return new Error(
      |         ^
  418 |     `${prefix}used ${expression}. ` +
  419 |       `\`headers()\` should be awaited before using its value. ` +
  420 |       `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`
 GET /api/auth/session 200 in 68ms
 ✓ Compiled /create in 500ms (1077 modules)
 GET /create 200 in 689ms
 ○ Compiling /create/topics-preset ...
 ✓ Compiled /create/topics-preset in 502ms (1878 modules)
 GET /create/topics-preset 200 in 584ms
 ✓ Compiled /api/stories/generate in 288ms (1951 modules)
prisma:query INSERT INTO `main`.`Story` (`id`, `childAge`, `detectedObjects`, `concept`, `topicPreview`, `pages`, `modelUsed`, `generationTime`, `shareToken`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `childId` AS `childId`, `childAge` AS `childAge`, `childName` AS `childName`, `photoUrl` AS `photoUrl`, `detectedObjects` AS `detectedObjects`, `concept` AS `concept`, `topicPreview` AS `topicPreview`, `pages` AS `pages`, `audioUrls` AS `audioUrls`, `modelUsed` AS `modelUsed`, `generationTime` AS `generationTime`, `shareToken` AS `shareToken`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
 POST /api/stories/generate 200 in 17796ms
 ○ Compiling /story/[id] ...
 ✓ Compiled /story/[id] in 763ms (2090 modules)
 GET /story/kpbz812yfpsmdeokejo 200 in 1428ms
 GET /story/kpbz812yfpsmdeokejo 200 in 13ms
 ○ Compiling /api/stories/[id] ...
 ✓ Compiled /api/stories/[id] in 534ms (2078 modules)
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`shareToken` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/stories/kpbz812yfpsmdeokejo 200 in 901ms
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`shareToken` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/stories/kpbz812yfpsmdeokejo 200 in 4ms
 GET / 200 in 49ms
 GET /create 200 in 43ms
 GET /create/topics-preset 200 in 37ms
prisma:query SELECT 1
prisma:query INSERT INTO `main`.`Story` (`id`, `childAge`, `detectedObjects`, `concept`, `topicPreview`, `pages`, `modelUsed`, `generationTime`, `shareToken`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `childId` AS `childId`, `childAge` AS `childAge`, `childName` AS `childName`, `photoUrl` AS `photoUrl`, `detectedObjects` AS `detectedObjects`, `concept` AS `concept`, `topicPreview` AS `topicPreview`, `pages` AS `pages`, `audioUrls` AS `audioUrls`, `modelUsed` AS `modelUsed`, `generationTime` AS `generationTime`, `shareToken` AS `shareToken`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
 POST /api/stories/generate 200 in 17658ms
 GET /story/5obizi1r4mdeolbf9 200 in 41ms
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`shareToken` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/stories/5obizi1r4mdeolbf9 200 in 17ms
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`Story`.`id`, `main`.`Story`.`childId`, `main`.`Story`.`childAge`, `main`.`Story`.`childName`, `main`.`Story`.`photoUrl`, `main`.`Story`.`detectedObjects`, `main`.`Story`.`concept`, `main`.`Story`.`topicPreview`, `main`.`Story`.`pages`, `main`.`Story`.`audioUrls`, `main`.`Story`.`modelUsed`, `main`.`Story`.`generationTime`, `main`.`Story`.`shareToken`, `main`.`Story`.`createdAt`, `main`.`Story`.`updatedAt` FROM `main`.`Story` WHERE (`main`.`Story`.`shareToken` = ? AND 1=1) LIMIT ? OFFSET ?
 GET /api/stories/5obizi1r4mdeolbf9 200 in 25ms

> curionight@0.1.0 dev
> next dev

 ⚠ Port 3000 is in use by process 25894
58282, using available port 3001 instead.
   ▲ Next.js 15.4.2
   - Local:        http://localhost:3001
   - Network:      http://192.168.68.66:3001
   - Environments: .env.local, .env

 ✓ Starting...
 ✓ Compiled /instrumentation in 87ms (22 modules)
 ✓ Ready in 1328ms
